<!DOCTYPE html>
<html lang="en-US">
  <head>
    <meta charset="UTF-8">

    <!-- Search Engine Optimization -->
    <!-- Begin Jekyll SEO tag v2.3.0 -->
<title>Docker Swarm with Raspberry Pi + NAS | rpi_cluster</title>
<meta property="og:title" content="Docker Swarm with Raspberry Pi + NAS" />
<meta property="og:locale" content="en_US" />
<meta name="description" content="Cluster deployment the easy way" />
<meta property="og:description" content="Cluster deployment the easy way" />
<link rel="canonical" href="http://localhost:4000/rpi_cluster/x.html" />
<meta property="og:url" content="http://localhost:4000/rpi_cluster/x.html" />
<meta property="og:site_name" content="rpi_cluster" />
<script type="application/ld+json">
{"name":null,"description":"Cluster deployment the easy way","author":null,"@type":"WebPage","url":"http://localhost:4000/rpi_cluster/x.html","publisher":null,"image":null,"headline":"Docker Swarm with Raspberry Pi + NAS","dateModified":null,"datePublished":null,"sameAs":null,"mainEntityOfPage":null,"@context":"http://schema.org"}</script>
<!-- End Jekyll SEO tag -->

    <meta name="viewport" content="width=device-width, initial-scale=1">
    <meta name="theme-color" content="#157878">
    <link href='https://fonts.googleapis.com/css?family=Open+Sans:400,700' rel='stylesheet' type='text/css'>
    <link rel="stylesheet" href="/rpi_cluster/assets/css/style.css?v=0e915c2763f8a864518ba596f021abb55bf02736">

    <!-- Custom CSS -->
    <link rel="stylesheet" href="/rpi_cluster/assets/css/main.css">

    <!-- Font Awesome -->
    <link rel="stylesheet" href="/rpi_cluster/assets/css/font-awesome.min.css">
  </head>

  <body>

    <!-- Page header -->
    <section class="page-header">

      <!-- Headings -->
      <h1 class="project-name">rpi_cluster</h1>
      <h2 class="project-tagline">Cluster deployment the easy way</h2>
      
        <a href="http://github.com/N02870941/rpi_cluster" class="btn" target="_blank">View on GitHub</a>
      

      <!-- Download buttons -->
      
        <a href="https://github.com/N02870941/rpi_cluster/archive/master.zip" class="btn">Download .zip</a>
        <a href="https://github.com/N02870941/rpi_cluster/archive/master.tar.gz" class="btn">Download .tar.gz</a>
      
    </section>

    <!-- Main page content -->
    <section class="main-content">

      <!-- Back button -->
      <!-- Back button (Don't show on homepage) -->

  <button onclick="goBack()">
    <i class='fa fa-arrow-left'></i> Back
  </button>

  <script>
  function goBack() {
      window.history.back();
  }
  </script>



      <!-- Main content -->
      <h1 id="docker-swarm-with-raspberry-pi--nas">Docker Swarm with Raspberry Pi + NAS</h1>

<p>This repository contains the scripts and files that I use to stand up a <a href="https://docs.docker.com/engine/swarm/">Docker Swarm</a> cluster
using <a href="https://en.wikipedia.org/wiki/Raspberry_Pi">Raspberry Pi</a> Single Board Computers (SBC) as nodes.</p>

<h2 id="compose-files">Compose files</h2>

<p>I have included commonly used <code class="highlighter-rouge">docker-compose.yml</code> files for easy deployments of services such as:</p>

<ul>
  <li><a href="../docker/compose/mysql.yml">MySQL</a></li>
  <li><a href="../docker/compose/postgres.yml">PostgreSQL</a></li>
  <li><a href="../docker/compose/wordpress.yml">Wordpress</a></li>
  <li><a href="../docker/compose/jenkins">Jenkins</a></li>
  <li><a href="../docker/compose/drone.yml">Drone CI</a></li>
  <li><a href="../docker/compose/mongo.yml">MongoDB</a></li>
  <li><a href="../docker/stack/portainer.yml">Portainer</a></li>
</ul>

<h2 id="test-application">Test Application</h2>

<p>I have written a <a href="../docker/test_app">test application</a> that is composed of several services (client, server, and database). It is a proof-of-concept application that demonstrates the pros, cons, and overall process of deploying a scalable applications to a Docker Swarm based infrastructure.</p>

<h2 id="deploy-scripts">Deploy Scripts</h2>

<p>Deploying docker containers from the command line includes a lot of repetitive work - especially when cleaning up dangling containers and volumes. I have written a few bash functions to address these drawbacks.</p>

<ul>
  <li><a href="../docker/deploy/deploy.sh">Deployment</a></li>
  <li><a href="../docker/deploy/deploy.sh">Docker CLI</a></li>
</ul>

<h2 id="network-attached-storage">Network Attached Storage</h2>

<p>The repo also includes the scripts that allow me to mount directories in the  local file systems of the nodes as a <a href="https://en.wikipedia.org/wiki/Network-attached_storage">Network Attached Storage</a> (NAS).</p>

<p><strong>NOTE:</strong> This is a simple NAS based on <a href="https://www.samba.org/">Samba</a> without RAID or scheduled backup.
This implementation is not meant to be a network drive solution. It is for easily sharing data across network.</p>



      <!-- Site footer -->
      <footer class="site-footer">
        
          <span class="site-footer-owner"><a href="http://github.com/N02870941/rpi_cluster">rpi_cluster</a> is maintained by <a href="http://github.com/N02870941">N02870941</a>.</span>
        
      </footer>
    </section>

    <!-- Google Analytics -->
    
      <script type="text/javascript">
        (function(i,s,o,g,r,a,m){i['GoogleAnalyticsObject']=r;i[r]=i[r]||function(){
        (i[r].q=i[r].q||[]).push(arguments)},i[r].l=1*new Date();a=s.createElement(o),
        m=s.getElementsByTagName(o)[0];a.async=1;a.src=g;m.parentNode.insertBefore(a,m)
        })(window,document,'script','//www.google-analytics.com/analytics.js','ga');
        ga('create', 'true', 'auto');
        ga('send', 'pageview');
      </script>
    

    <!-- JQuery -->
    <script type="text/javascript" src="https://cdnjs.cloudflare.com/ajax/libs/jquery/3.2.1/jquery.min.js"></script>

    <!-- Fade in / out -->
    
<!-- TODO - Implement fade out -->
<script>


</script>


    <!-- Side navbar -->
    
<!--
  By default sidebar is hidden, that way,
  when we navigate to a page by the "Back()"
  event, the menu is not by default open.
 -->
<div id="sidebar" style="display:none;">

  <!--
    Invisiable checkbox, when checked,
    menu shows. This is accomplished at
    the CSS level using selectors
  -->
  <input type="checkbox" id="navigation" />
  <label for="navigation">
        <i class='fa fa-bars'></i>
  </label>

  <!-- List of options -->
  <nav id="menu">
    <ul>
      <li><a name="/rpi_cluster/" onclick="navigate_to_page(this.name)">Home</a></li>
      <li><a name="/rpi_cluster/pages/code.html" onclick="navigate_to_page(this.name)">Project Structure</a></li>
      <li><a name="/rpi_cluster/pages/install.html" onclick="navigate_to_page(this.name)">Installation Guide</a></li>
      <li><a name="/rpi_cluster/pages/reqs.html" onclick="navigate_to_page(this.name)">System Requirements</a></li>
      <li><a name="/rpi_cluster/pages/limits.html" onclick="navigate_to_page(this.name)">Application Limitations</a></li>
      <li><a name="/rpi_cluster/pages/demo.html" onclick="navigate_to_page(this.name)">Demo</a></li>
    </ul>
  </nav>
</div>

<script>

  // Hides the navbar menu
  let closeMenu = function() {
    $('#navigation').prop('checked', false);

    // Resolve promise after 250ms, gives
    // enough time for close animation to complete
    return new Promise(resolve => setTimeout(resolve, 250));
  }

  // By default the sidebare is hidden.
  // Make sure we uncheck the nav checkbox
  // so the menu is not out, then we can
  // show the sidebar (make it clickable)
  $(document).ready(function() {
      closeMenu();
      $('#sidebar').show();
  });

  // Close menu on Escape press
  $(document).keyup(function(e) {
     if (e.keyCode == 27) {
        closeMenu();
    }
  });

  // Close menu if click happens
  // outside of the sidebar
  $(document).mouseup(function(e) {
    let sidebar = $("#sidebar");

    // if the target of the click isn't the container
    // nor a descendant of the container, close the menue
    if (!sidebar.is(e.target) && sidebar.has(e.target).length === 0) {
        closeMenu();
    }
  });

  // Closes menu, then navigates to the href
  let navigate_to_page = async function(href) {
    await closeMenu();

    document.location.href = href;
  }
</script>


    <!-- Back to top button -->
    <div class='scrolltop'>
  <div class='scroll icon'>
    <i class='fa fa-4x fa-angle-up'></i>
  </div>
</div>

<script>
(function() {
    $(window).scroll(function() {
      if ($(this).scrollTop() > 50) {
          $('.scrolltop:hidden').stop(true, true).fadeIn();
      } else {
          $('.scrolltop').stop(true, true).fadeOut();
      }
    });
    $('.scroll').click(function() {
  		$('html, body').animate({
        scrollTop : 0},800);
  		return false;
  	});
})();
</script>

  </body>
</html>
